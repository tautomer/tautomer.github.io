/*
 * Giscus One Dark Theme - Using Official GitHub Primer Variables
 * Maps One Dark colors to the exact variable names Giscus expects
 */

:root {
  /*
  ==================================================================
    GitHub Primer CSS Variables - One Dark Color Mapping
  ==================================================================
  */

  /* Canvas (Background) Colors */
  --color-canvas-default: #282c34;        /* Main background */
  --color-canvas-overlay: #2c313c;        /* Overlays, modals */
  --color-canvas-inset: #21252b;          /* Inset areas */
  --color-canvas-subtle: #2c313c;         /* Subtle backgrounds */

  /* Foreground (Text) Colors */
  --color-fg-default: #abb2bf;            /* Primary text */
  --color-fg-muted: #828997;              /* Secondary text */
  --color-fg-subtle: #5c6370;             /* Muted text */

  /* Border Colors */
  --color-border-default: #4b5263;        /* Default borders */
  --color-border-muted: #3e4451;          /* Muted borders */

  /* Accent Colors */
  --color-accent-fg: #61afef;             /* Primary accent */
  --color-accent-emphasis: #61afef;       /* Emphasis accent */
  --color-accent-muted: rgba(97, 175, 239, 0.4);    /* Muted accent */
  --color-accent-subtle: rgba(97, 175, 239, 0.1);   /* Subtle accent */

  /* Button Colors - Default */
  --color-btn-text: #abb2bf;              /* Button text */
  --color-btn-bg: #3e4451;                /* Button background */
  --color-btn-border: #4b5263;            /* Button border */
  --color-btn-shadow: 0 0 transparent;    /* Button shadow */
  --color-btn-inset-shadow: 0 0 transparent;
  --color-btn-hover-bg: #4b5263;          /* Button hover background */
  --color-btn-hover-border: #61afef;      /* Button hover border */
  --color-btn-active-bg: #5a6374;         /* Button active background */
  --color-btn-active-border: #61afef;     /* Button active border */
  --color-btn-selected-bg: #4b5263;       /* Button selected background */

  /* Button Colors - Primary (Light Blue Comment Button) */
  --color-btn-primary-text: #ffffff;      /* Primary button text */
  --color-btn-primary-bg: #73bcf0;        /* Light blue background */
  --color-btn-primary-border: #73bcf0;    /* Light blue border */
  --color-btn-primary-shadow: 0 2px 4px rgba(115, 188, 240, 0.2);
  --color-btn-primary-inset-shadow: 0 0 transparent;
  --color-btn-primary-hover-bg: #61afef;  /* Darker blue on hover */
  --color-btn-primary-hover-border: #61afef;
  --color-btn-primary-selected-bg: #4f9de0;
  --color-btn-primary-selected-shadow: 0 0 transparent;
  --color-btn-primary-disabled-text: rgba(255, 255, 255, 0.5);
  --color-btn-primary-disabled-bg: rgba(115, 188, 240, 0.45);
  --color-btn-primary-disabled-border: #4b5263;

  /* Social Reaction Colors */
  --color-social-reaction-bg-hover: #4b5263;
  --color-social-reaction-bg-reacted-hover: rgba(97, 175, 239, 0.2);

  /* Neutral Colors */
  --color-neutral-muted: rgba(75, 82, 99, 0.4);

  /* Success Colors */
  --color-success-fg: #98c379;

  /* Attention Colors */
  --color-attention-fg: #e5c07b;
  --color-attention-muted: rgba(229, 192, 123, 0.4);
  --color-attention-subtle: rgba(229, 192, 123, 0.15);

  /* Danger Colors */
  --color-danger-fg: #e06c75;
  --color-danger-muted: rgba(224, 108, 117, 0.4);
  --color-danger-subtle: rgba(224, 108, 117, 0.1);

  /* Segmented Control Colors */
  --color-segmented-control-bg: rgba(75, 82, 99, 0.1);
  --color-segmented-control-button-bg: #282c34;
  --color-segmented-control-button-selected-border: #4b5263;

  /* Action List Colors */
  --color-action-list-item-default-hover-bg: rgba(75, 82, 99, 0.12);

  /* Syntax Highlighting Colors */
  --color-prettylights-syntax-comment: #5c6370;
  --color-prettylights-syntax-constant: #d19a66;
  --color-prettylights-syntax-entity: #c678dd;
  --color-prettylights-syntax-storage-modifier-import: #abb2bf;
  --color-prettylights-syntax-entity-tag: #98c379;
  --color-prettylights-syntax-keyword: #e06c75;
  --color-prettylights-syntax-string: #98c379;
  --color-prettylights-syntax-variable: #e5c07b;
  --color-prettylights-syntax-brackethighlighter-unmatched: #e06c75;
  --color-prettylights-syntax-invalid-illegal-text: #ffffff;
  --color-prettylights-syntax-invalid-illegal-bg: #e06c75;
  --color-prettylights-syntax-carriage-return-text: #ffffff;
  --color-prettylights-syntax-carriage-return-bg: #e06c75;
  --color-prettylights-syntax-string-regexp: #98c379;
  --color-prettylights-syntax-markup-list: #e5c07b;
  --color-prettylights-syntax-markup-heading: #61afef;
  --color-prettylights-syntax-markup-italic: #abb2bf;
  --color-prettylights-syntax-markup-bold: #abb2bf;
  --color-prettylights-syntax-markup-deleted-text: #e06c75;
  --color-prettylights-syntax-markup-deleted-bg: rgba(224, 108, 117, 0.2);
  --color-prettylights-syntax-markup-inserted-text: #98c379;
  --color-prettylights-syntax-markup-inserted-bg: rgba(152, 195, 121, 0.2);
  --color-prettylights-syntax-markup-changed-text: #e5c07b;
  --color-prettylights-syntax-markup-changed-bg: rgba(229, 192, 123, 0.2);
  --color-prettylights-syntax-markup-ignored-text: #abb2bf;
  --color-prettylights-syntax-markup-ignored-bg: rgba(97, 175, 239, 0.2);
  --color-prettylights-syntax-meta-diff-range: #c678dd;
  --color-prettylights-syntax-brackethighlighter-angle: #5c6370;
  --color-prettylights-syntax-sublimelinter-gutter-mark: #5c6370;
  --color-prettylights-syntax-constant-other-reference-link: #61afef;

  /* Legacy color mappings for compatibility */
  --color-bg-primary: var(--color-canvas-default);
  --color-bg-secondary: var(--color-canvas-subtle);
  --color-bg-tertiary: var(--color-canvas-subtle);
  --color-text-primary: var(--color-fg-default);
  --color-text-secondary: var(--color-fg-muted);
  --color-text-tertiary: var(--color-fg-subtle);
  --color-text-link: var(--color-accent-fg);
  --color-border-primary: var(--color-border-default);
  --color-border-secondary: var(--color-border-muted);
  --color-border-tertiary: var(--color-border-muted);

  /* Giscus-specific enhancements */
  --giscus-border-radius: 8px;
}

/*
==================================================================
  Giscus Component Overrides
==================================================================
*/

/* Main container */
.gsc-main {
  color: var(--color-fg-default) !important;
  border-radius: var(--giscus-border-radius) !important;
  border: 2px solid var(--color-border-default) !important;
  padding: 16px;
}

/* Comment box styling */
.gsc-comment-box-main {
  background-color: var(--color-canvas-subtle) !important;
  border: 1px solid var(--color-border-default) !important;
  border-radius: var(--giscus-border-radius) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

.gsc-comment-box-textarea {
  background-color: var(--color-canvas-inset) !important;
  border: 1px solid var(--color-border-default) !important;
  color: var(--color-fg-default) !important;
  border-radius: calc(var(--giscus-border-radius) - 2px) !important;
}

.gsc-comment-box-textarea:focus {
  border-color: var(--color-accent-fg) !important;
  box-shadow: 0 0 0 2px var(--color-accent-muted) !important;
}

.gsc-comment-box-textarea::placeholder {
  color: var(--color-fg-muted) !important;
}

/* Tabs */
.gsc-comment-box-tabs {
  border-bottom: 1px solid var(--color-border-default) !important;
}

.gsc-tab {
  color: var(--color-fg-muted) !important;
  transition: all 0.2s ease !important;
}

.gsc-tab:hover {
  color: var(--color-fg-default) !important;
  background-color: var(--color-canvas-subtle) !important;
}

.gsc-tab-active {
  color: var(--color-accent-fg) !important;
  border-bottom: 2px solid var(--color-accent-fg) !important;
  font-weight: 500 !important;
}

/* Buttons use the official Primer variables automatically */
.gsc-button-primary {
  box-shadow: var(--color-btn-primary-shadow) !important;
  transition: all 0.2s ease !important;
}

.gsc-button-primary:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 8px rgba(115, 188, 240, 0.3) !important;
}

.gsc-button:hover {
  transform: translateY(-1px) !important;
}

/* Comments */
.gsc-comment {
  background-color: var(--color-canvas-subtle) !important;
  border: 1px solid var(--color-border-default) !important;
  border-radius: var(--giscus-border-radius) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

.gsc-comment-header {
  background-color: var(--color-canvas-inset) !important;
  border-bottom: 1px solid var(--color-border-default) !important;
}

.gsc-comment-author {
  color: var(--color-fg-default) !important;
  font-weight: 600 !important;
}

.gsc-comment-author-association {
  background-color: var(--color-accent-fg) !important;
  color: #ffffff !important;
  border-radius: 12px !important;
  padding: 2px 8px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
}

/* Links */
a.gsc-link {
  color: var(--color-accent-fg) !important;
  transition: color 0.2s ease !important;
}

a.gsc-link:hover {
  color: var(--color-accent-emphasis) !important;
}

/* Reactions */
.gsc-reactions {
  background-color: var(--color-canvas-inset) !important;
}

.gsc-reactions-button {
  border: 1px solid var(--color-border-default) !important;
  border-radius: calc(var(--giscus-border-radius) - 2px) !important;
  transition: all 0.2s ease !important;
}

.gsc-reactions-button:hover {
  border-color: var(--color-accent-fg) !important;
}

/* Input fields */
.gsc-input {
  background-color: var(--color-canvas-inset) !important;
  border: 1px solid var(--color-border-default) !important;
  color: var(--color-fg-default) !important;
  border-radius: var(--giscus-border-radius) !important;
}

.gsc-input:focus {
  border-color: var(--color-accent-fg) !important;
  box-shadow: 0 0 0 2px var(--color-accent-muted) !important;
}

.gsc-input::placeholder {
  color: var(--color-fg-muted) !important;
}

/* Code blocks */
.gsc-comment pre {
  background-color: var(--color-canvas-inset) !important;
  border: 1px solid var(--color-border-default) !important;
  border-radius: calc(var(--giscus-border-radius) - 2px) !important;
}

.gsc-comment code {
  background-color: var(--color-neutral-muted) !important;
  color: var(--color-prettylights-syntax-variable) !important;
  border-radius: 3px !important;
}

.gsc-comment pre code {
  background-color: transparent !important;
  color: var(--color-fg-default) !important;
}

/* Blockquotes */
.gsc-comment blockquote {
  border-left: 4px solid var(--color-accent-fg) !important;
  background-color: var(--color-canvas-inset) !important;
  border-radius: 0 calc(var(--giscus-border-radius) - 2px) calc(var(--giscus-border-radius) - 2px) 0 !important;
}

/* Tables */
.gsc-comment table th,
.gsc-comment table td {
  border: 1px solid var(--color-border-default) !important;
}

.gsc-comment table th {
  background-color: var(--color-canvas-inset) !important;
}

.gsc-comment table tr:nth-child(even) {
  background-color: var(--color-canvas-inset) !important;
}

/* Loading states */
.gsc-loading {
  color: var(--color-fg-muted) !important;
}

/* Timeline */
.gsc-tl-line {
  background-color: var(--color-border-muted) !important;
}

/* Pagination */
.gsc-pagination-button {
  background-color: var(--color-btn-bg) !important;
  border: 1px solid var(--color-btn-border) !important;
  color: var(--color-btn-text) !important;
  border-radius: var(--giscus-border-radius) !important;
}

.gsc-pagination-button:hover {
  background-color: var(--color-btn-hover-bg) !important;
  border-color: var(--color-btn-hover-border) !important;
}

.gsc-pagination-button[aria-current="page"] {
  background-color: var(--color-accent-fg) !important;
  border-color: var(--color-accent-fg) !important;
  color: #ffffff !important;
}

/* Error and success states */
.gsc-error {
  background-color: var(--color-danger-subtle) !important;
  border: 1px solid var(--color-danger-muted) !important;
  color: var(--color-danger-fg) !important;
  border-radius: var(--giscus-border-radius) !important;
}

.gsc-success {
  background-color: rgba(152, 195, 121, 0.1) !important;
  border: 1px solid rgba(152, 195, 121, 0.4) !important;
  color: var(--color-success-fg) !important;
  border-radius: var(--giscus-border-radius) !important;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .gsc-comment-box-buttons {
    flex-direction: column !important;
    gap: 8px !important;
  }
  
  .gsc-button,
  .gsc-button-primary {
    width: 100% !important;
    justify-content: center !important;
  }
}

/* Dark mode enhancement */
@media (prefers-color-scheme: dark) {
  .giscus-frame {
    color-scheme: dark !important;
  }
}
